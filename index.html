<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ูุชุฌุฑ ุฎุงูุฏ โ ุนุฑุถ ููุชุฌุงุชู ุจุงุญุชุฑุงู</title>
  <meta name="description" content="ูุชุฌุฑ ุนุฑุจู ูุชูุงูู: ููุชุฌุงุชุ ุณูุฉุ ุญุณุงุจุ ุฅุฏุงุฑุฉุ ุจุญุซ ูุชุตูููุ ุฅุฑุณุงู ุนุจุฑ ูุงุชุณุงุจ/ุจุฑูุฏ." />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1020;--fg:#fff;--panel:#121b3a;--card:#1b2a58;--accent:#6aa7ff;--accent-2:#ffd166;--muted:#a7b3d9
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Cairo',sans-serif;background:var(--bg);color:var(--fg)}
    header,footer{background:#0f1732;padding:12px 0}
    .container{width:min(1200px,92%);margin:auto}
    a{color:#9cffd1;text-decoration:none}
    nav{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .brand .logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#9cffd1)}
    .btn{padding:.7rem 1rem;border-radius:12px;cursor:pointer;border:none}
    .btn-primary{background:var(--accent);color:#05121e;font-weight:800}
    .btn-outline{background:transparent;border:1px solid var(--muted);color:var(--fg)}
    .form-card{max-width:480px;margin:1.2rem auto;background:var(--card);padding:1.2rem;border-radius:16px}
    input,textarea,select{width:100%;padding:.85rem;margin:.35rem 0;border-radius:10px;border:1px solid #2b3a74;background:#0f1630;color:var(--fg)}
    h1,h2,h3{margin:.5rem 0}
    .hero{padding:2.2rem 0;background:radial-gradient(90% 80% at 50% 0%,rgba(106,167,255,.15),transparent 60%)}
    .hero .lead{color:#d7e4ff}
    .hidden{display:none}
    .card{background:var(--card);padding:1rem;border-radius:14px;margin:.6rem 0;box-shadow:0 10px 20px rgba(0,0,0,.15)}
    .grid{display:grid;gap:1rem}
    .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media(min-width:900px){.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}}
    .prod-img{width:100%;height:200px;object-fit:cover;border-radius:10px;margin-bottom:.6rem}
    .muted{opacity:.9;color:var(--muted)}
    .tools{display:flex;gap:.6rem;flex-wrap:wrap;margin:.6rem 0}
    .badge{display:inline-block;padding:.2rem .5rem;border:1px solid #3a4a86;border-radius:999px;font-size:.85rem;color:#cfe0ff}
    .toolbar{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center;margin-bottom:1rem}
    .toolbar input{flex:1}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand"><div class="logo"></div><span>ูุชุฌุฑ ุฎุงูุฏ</span></div>
        <div>
          <a href="#shop">ุงูููุชุฌุงุช</a> | 
          <a href="#login">ุชุณุฌูู ุงูุฏุฎูู</a> | 
          <a href="#signup">ุฅูุดุงุก ุญุณุงุจ</a> | 
          <a href="#profile" id="profile-link" class="hidden">ุญุณุงุจู</a> |
          <a href="#cart">ุงูุณูุฉ</a> | 
          <a href="#about">ุนู ุงููุชุฌุฑ</a> |
          <a href="#contact">ุงุชุตู ุจูุง</a> |
          <a href="#privacy">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a> |
          <a href="#terms">ุงูุดุฑูุท</a> |
          <a href="#admin" id="admin-link" class="hidden">ููุญุฉ ุงูุฅุฏุงุฑุฉ</a>
        </div>
      </nav>
    </div>
  </header>  <section class="hero">
    <div class="container">
      <h1>ูุฑุญุจุง ุจู ูู <span style="color:var(--accent-2)">ูุชุฌุฑ ุฎุงูุฏ</span></h1>
      <p class="lead">ููุตุฉ ุจุณูุทุฉ ูุฑุดููุฉ ูุจูุน ููุชุฌุงุชู ุฃูููุงูู โ ุชุณุฌูู ุฏุฎููุ ุณูุฉุ ุญุณุงุจุ ุฅุฑุณุงู ุงูุทูุจ ุนุจุฑ ูุงุชุณุงุจ ูุจุฑูุฏุ ูุงูุขู: <b>ุจุญุซ ูุชุตููู</b> ููููุชุฌุงุช.</p>
      <div class="tools">
        <span class="badge">ุณุฑูุน</span>
        <span class="badge">ูุฏุนู ุงูููุจุงูู</span>
        <span class="badge">ุจุฏูู ุฎุงุฏู (Local)</span>
      </div>
      <a class="btn btn-primary" href="#shop">ุชุณููู ุงูุขู</a>
    </div>
  </section>  <section id="shop" class="container">
    <h2>๐ ุงูููุชุฌุงุช</h2>
    <div class="toolbar card">
      <input id="search" placeholder="ุงุจุญุซ ุนู ููุชุฌ (ูุซุงู: ุณูุงุนุงุชุ ุณุงุนุฉุ ุชูุดูุฑุช)">
      <select id="filter-cat">
        <option value="">ูู ุงููุฆุงุช</option>
        <option>ุฅููุชุฑูููุงุช</option>
        <option>ุฃุฒูุงุก</option>
        <option>ููุฒู</option>
      </select>
      <button id="clear-filters" class="btn btn-outline">ูุณุญ ุงูุชุตููุฉ</button>
    </div>
    <div id="products" class="grid grid-3"></div>
  </section>  <section id="cart" class="container hidden">
    <h2>ุณูุฉ ุงูุดุฑุงุก</h2>
    <div id="cart-items"></div>
    <p><b>ุงููุฌููุน:</b> <span id="cart-total">0 ุฏุฌ</span></p><div class="form-card">
  <h3>ูุนูููุงุช ุงูุฒุจูู</h3>
  <input id="cust-name" placeholder="ุงูุงุณู ุงููุงูู">
  <input id="cust-phone" placeholder="ุฑูู ุงููุงุชู">
  <textarea id="cust-addr" placeholder="ุงูุนููุงู (ุงูุญู - ุงูุจูุฏูุฉ - ุงูููุงูุฉ)"></textarea>
</div>

<button id="checkout" class="btn btn-primary">ุชุฃููุฏ ุงูุทูุจ</button>
<button id="send-wa" class="btn btn-outline">ุฅุฑุณุงู ุนุจุฑ ูุงุชุณุงุจ</button>
<button id="send-mail" class="btn btn-outline">ุฅุฑุณุงู ุนุจุฑ ุงูุจุฑูุฏ</button>

  </section>  <section id="login" class="container">
    <h2>๐ ุชุณุฌูู ุงูุฏุฎูู</h2>
    <div class="form-card">
      <form id="login-form">
        <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
        <input id="login-email" type="email" required>
        <label>ูููุฉ ุงููุฑูุฑ</label>
        <input id="login-pass" type="password" required>
        <button type="submit" class="btn btn-primary" style="width:100%">ุชุณุฌูู ุงูุฏุฎูู</button>
        <p id="login-msg" style="color:var(--accent-2)"></p>
      </form>
    </div>
  </section>  <section id="signup" class="container">
    <h2>๐ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h2>
    <div class="form-card">
      <form id="signup-form">
        <label>ุงูุงุณู ุงููุงูู</label>
        <input id="signup-name" type="text" required>
        <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
        <input id="signup-email" type="email" required>
        <label>ูููุฉ ุงููุฑูุฑ</label>
        <input id="signup-pass" type="password" required>
        <button type="submit" class="btn btn-primary" style="width:100%">ุฅูุดุงุก ุญุณุงุจ</button>
        <p id="signup-msg" style="color:var(--accent-2)"></p>
      </form>
    </div>
  </section>  <section id="profile" class="container hidden">
    <h2>๐ค ุญุณุงุจู</h2>
    <div class="form-card">
      <p><b>ุงูุงุณู:</b> <span id="prof-name"></span></p>
      <p><b>ุงูุจุฑูุฏ:</b> <span id="prof-email"></span></p>
      <div id="my-orders"></div>
      <button id="logout" class="btn btn-primary">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
    </div>
  </section>  <section id="admin" class="container hidden">
    <h2>๐ฆ ููุญุฉ ุงูุฅุฏุงุฑุฉ</h2>
    <div class="grid grid-2">
      <div class="card">
        <h3>ุฅุถุงูุฉ ููุชุฌ</h3>
        <input id="adm-name" placeholder="ุงุณู ุงูููุชุฌ">
        <input id="adm-price" placeholder="ุงูุณุนุฑ ุจุงูุฏุฌ" type="number">
        <input id="adm-img" placeholder="ุฑุงุจุท ุตูุฑุฉ (ุงุฎุชูุงุฑู)">
        <select id="adm-cat">
          <option>ุฅููุชุฑูููุงุช</option>
          <option>ุฃุฒูุงุก</option>
          <option>ููุฒู</option>
        </select>
        <button id="adm-add" class="btn btn-primary">ุฅุถุงูุฉ</button>
      </div>
      <div class="card">
        <h3>ุฌููุน ุงูุทูุจุงุช</h3>
        <div id="adm-orders"></div>
      </div>
    </div>
  </section>  <section id="privacy" class="container hidden">
    <h2>๐ ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</h2>
    <div class="card">
      <p>ูุญุชุฑู ุฎุตูุตูุชูุ ูุชู ุญูุธ ุจูุงูุงุชู ูุญูููุง ุนูู ุฌูุงุฒู. ุนูุฏ ุงูุงูุชูุงู ููุณุฎุฉ ุฎุงุฏู ุณููุถูุญ ุณูุงุณุฉ ุงูุจูุงูุงุช ุจุชูุตูู.</p>
    </div>
  </section>  <section id="terms" class="container hidden">
    <h2>๐ ุงูุดุฑูุท ูุงูุฃุญูุงู</h2>
    <div class="card">
      <ul>
        <li>ูุฐู ูุณุฎุฉ ุชุฌุฑูุจูุฉ ูุญููุฉ ูุบุฑุถ ุงูุนุฑุถ.</li>
        <li>ุงูุฃุณุนุงุฑ ุฅุฑุดุงุฏูุฉ ูุชูุคูุฏ ุจุงูุชูุงุตู.</li>
        <li>ุณูุงุณุฉ ุงูุงุณุชุจุฏุงู ุฎูุงู 7 ุฃูุงู ููููุชุฌุงุช ุบูุฑ ุงููุณุชุนููุฉ.</li>
      </ul>
    </div>
  </section>  <section id="about" class="container hidden">
    <h2>โน๏ธ ุนู ุงููุชุฌุฑ</h2>
    <div class="card">
      <p>ูุชุฌุฑ <b>ุฎุงูุฏ</b> ููุฏูู ููุชุฌุงุช ููุชูุงุฉ ุจุนูุงูุฉ ูุน ุชุฌุฑุจุฉ ุดุฑุงุก ุณููุฉ ูุณุฑูุนุฉ ุนูู ุงูููุจุงูู.
      ุฑุคูุชูุง: ุฌูุฏุฉ ุญููููุฉ ุจุฃุณุนุงุฑ ุนุงุฏูุฉุ ูุฎุฏูุฉ ุฒุจุงุฆู ุณุฑูุนุฉ ุนุจุฑ ูุงุชุณุงุจ ูุงูุจุฑูุฏ.</p>
      <ul>
        <li>ุดุญู ุฏุงุฎู ููุงูุงุช ุนุฏูุฏุฉ</li>
        <li>ุฏูุน ุนูุฏ ุงูุงุณุชูุงู (ุฅู ููุฌุฏ)</li>
        <li>ููุชุฌุงุช ุฃุตููุฉ ููุถูููุฉ</li>
      </ul>
    </div>
  </section>  <section id="contact" class="container hidden">
    <h2>๐ ุงุชุตู ุจูุง</h2>
    <div class="form-card">
      <div class="grid grid-2">
        <div>
          <label>ุงูุงุณู</label>
          <input id="c-name" placeholder="ุงุณูู ุงููุงูู">
        </div>
        <div>
          <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
          <input id="c-email" type="email" placeholder="example@mail.com">
        </div>
      </div>
      <label>ุงุณู ุงูููุชุฌ</label>
      <input id="c-product" placeholder="ูุซุงู: ุณูุงุนุงุช ูุงุณูููุฉ">
      <label>ุฑุณุงูุชู</label>
      <textarea id="c-msg" placeholder="ุงูุชุจ ุฑุณุงูุชู ุฃู ุงุณุชูุณุงุฑู..." rows="4"></textarea>
      <div class="tools">
        <button id="c-send-wa" class="btn btn-primary">๐ฒ ุฅุฑุณุงู ุนุจุฑ ูุงุชุณุงุจ</button>
        <button id="c-send-mail" class="btn btn-outline">๐ง ุฅุฑุณุงู ุนุจุฑ ุงูุจุฑูุฏ</button>
      </div>
      <p class="muted">ุงุถุบุท "ุงุณุชูุณุงุฑ" ูู ุฃู ููุชุฌ ูุณูุชู ุชุนุจุฆุฉ ุงุณู ุงูููุชุฌ ุชููุงุฆููุง ููุง.</p>
    </div>
  </section>  <footer>
    <div class="container">
      <p>ยฉ <span id="year"></span> ูุชุฌุฑ ุฎุงูุฏ. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
    </div>
  </footer>  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ููุงุชูุญ ุงูุชุฎุฒูู
    const USERS_KEY='users';
    const AUTH_KEY='auth';
    const PRODUCTS_KEY='products';
    const CART_KEY='cart';
    const ORDERS_KEY='orders';
    const OWNER_EMAIL='owner@khaled.dz'; // โ๏ธ ุบููุฑ ูุจุฑูุฏู ุงูุฅุฏุงุฑู

    const get = k => JSON.parse(localStorage.getItem(k)||'[]');
    const set = (k,v) => localStorage.setItem(k,JSON.stringify(v));
    const getAuth = () => JSON.parse(localStorage.getItem(AUTH_KEY)||'null');
    const setAuth = a => localStorage.setItem(AUTH_KEY,JSON.stringify(a));

    // ูุตุงุฏูุฉ
    function renderAuth(){
      const u=getAuth();
      if(u){
        document.getElementById('profile').classList.remove('hidden');
        document.getElementById('profile-link').classList.remove('hidden');
        if(u.email===OWNER_EMAIL) document.getElementById('admin-link').classList.remove('hidden');
        document.getElementById('login').classList.add('hidden');
        document.getElementById('signup').classList.add('hidden');
        document.getElementById('prof-name').textContent=u.name;
        document.getElementById('prof-email').textContent=u.email;
        renderOrders();
      }else{
        document.getElementById('profile').classList.add('hidden');
        document.getElementById('profile-link').classList.add('hidden');
        document.getElementById('admin-link').classList.add('hidden');
        document.getElementById('login').classList.remove('hidden');
        document.getElementById('signup').classList.remove('hidden');
      }
    }

    document.getElementById('signup-form').addEventListener('submit',e=>{
      e.preventDefault();
      const name=document.getElementById('signup-name').value.trim();
      const email=document.getElementById('signup-email').value.trim();
      const pass=document.getElementById('signup-pass').value;
      let users=get(USERS_KEY);
      if(users.find(u=>u.email===email)){document.getElementById('signup-msg').textContent='ุงูุญุณุงุจ ููุฌูุฏ ูุณุจููุง';return;}
      const newUser={name,email,pass,role: email===OWNER_EMAIL?'admin':'user'};
      users.push(newUser); set(USERS_KEY,users); setAuth(newUser); renderAuth(); location.hash='#profile';
    });

    document.getElementById('login-form').addEventListener('submit',e=>{
      e.preventDefault();
      const email=document.getElementById('login-email').value.trim();
      const pass=document.getElementById('login-pass').value;
      const u=get(USERS_KEY).find(x=>x.email===email&&x.pass===pass);
      if(u){ setAuth(u); renderAuth(); location.hash='#profile'; }
      else { document.getElementById('login-msg').textContent='ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ'; }
    });

    document.getElementById('logout').addEventListener('click',()=>{ localStorage.removeItem(AUTH_KEY); renderAuth(); location.hash='#login'; });

    // Seed ููุชุฌุงุช ุจุงูุตูุฑ
    function seedProducts(){
      if(localStorage.getItem(PRODUCTS_KEY)) return;
      set(PRODUCTS_KEY,[
        {name:'โ ุณุงุนุฉ ุฐููุฉ S9',price:12990,category:'ุฅููุชุฑูููุงุช',img:'https://images.unsplash.com/photo-1516557070061-c3d1653fa646?q=80&w=1200&auto=format&fit=crop'},
        {name:'๐ง ุณูุงุนุงุช ูุงุณูููุฉ',price:5990,category:'ุฅููุชุฑูููุงุช',img:'https://images.unsplash.com/photo-1518449037150-6f6f2d1e4826?q=80&w=1200&auto=format&fit=crop'},
        {name:'๐ ุชูุดูุฑุช ูุทูู 230G',price:3490,category:'ุฃุฒูุงุก',img:'https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop'},
        {name:'๐ ุญููุจุฉ ุธูุฑ ููุงููุฉ',price:8990,category:'ุฃุฒูุงุก',img:'https://images.unsplash.com/photo-1514477917009-389c76a86b68?q=80&w=1200&auto=format&fit=crop'},
        {name:'๐ก ูุตุจุงุญ ููุชุจ LED',price:4490,category:'ููุฒู',img:'https://images.unsplash.com/photo-1517059224940-d4af9eec41e5?q=80&w=1200&auto=format&fit=crop'},
        {name:'โจ๏ธ ููุญุฉ ููุงุชูุญ ูููุงููููุฉ',price:15990,category:'ุฅููุชุฑูููุงุช',img:'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop'}
      ]);
    }

    // ุนุฑุถ ุงูููุชุฌุงุช ูุน ุจุญุซ/ุชุตููู
    function renderProducts(){
      const list=get(PRODUCTS_KEY);
      const q=(document.getElementById('search').value||'').toLowerCase();
      const cat=document.getElementById('filter-cat').value;
      const filtered=list.filter(p=>{
        const byQ = !q || p.name.toLowerCase().includes(q);
        const byC = !cat || p.category===cat;
        return byQ && byC;
      });
      const wrap=document.getElementById('products');
      wrap.innerHTML='';
      filtered.forEach((p,i)=>{
        const d=document.createElement('div'); d.className='card';
        const price = parseInt(p.price)||0;
        const img = p.img ? `<img class="prod-img" alt="${p.name}" src="${p.img}">` : '';
        const cat = p.category ? `<div class='muted'>${p.category}</div>` : '';
        d.innerHTML=`${img}<b>${p.name}</b>${cat}<div style="margin:.25rem 0 .5rem"><b>${price.toLocaleString('ar-DZ')}</b> ุฏุฌ</div>
          <button onclick=\"addToCart(${i})\" class=\"btn btn-primary\">ุฃุถู ููุณูุฉ</button>`;
        wrap.appendChild(d);
      });
      if(!filtered.length){ wrap.innerHTML = `<div class='card'>ูุง ูุชุงุฆุฌ ูุทุงุจูุฉ ูุจุญุซู.</div>`; }
    }

    document.getElementById('search').addEventListener('input',renderProducts);
    document.getElementById('filter-cat').addEventListener('change',renderProducts);
    document.getElementById('clear-filters').addEventListener('click',()=>{
      document.getElementById('search').value='';
      document.getElementById('filter-cat').value='';
      renderProducts();
    });

    // ุฅุถุงูุฉ ููุชุฌ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
    document.getElementById('adm-add').addEventListener('click',()=>{
      const name=document.getElementById('adm-name').value.trim();
      const price=parseInt(document.getElementById('adm-price').value||'0',10);
      const img=document.getElementById('adm-img').value.trim();
      const category=document.getElementById('adm-cat').value;
      if(!name||!price) return;
      let list=get(PRODUCTS_KEY); list.push({name,price,category,img}); set(PRODUCTS_KEY,list); renderProducts(); alert('ุชูุช ุฅุถุงูุฉ ุงูููุชุฌ');
    });

    // ุณูุฉ
    function addToCart(i){ let list=get(PRODUCTS_KEY); let cart=get(CART_KEY); const p=list[i]; cart.push(p); set(CART_KEY,cart); renderCart(); location.hash='#cart'; }
    function renderCart(){
      const cart=get(CART_KEY);
      const wrap=document.getElementById('cart-items'); wrap.innerHTML='';
      let total=0; cart.forEach((c)=>{ total+=parseInt(c.price)||0; wrap.innerHTML+=`<div class='card'>${c.name} - ${c.price} ุฏุฌ</div>`; });
      document.getElementById('cart-total').textContent= total.toLocaleString('ar-DZ')+' ุฏุฌ';
    }

    // ุชุฃููุฏ ุงูุทูุจ + ุฅุฑุณุงู
    document.getElementById('checkout').addEventListener('click',()=>{
      const auth=getAuth(); if(!auth){ alert('ุณุฌู ุงูุฏุฎูู ุฃูููุง'); location.hash='#login'; return; }
      let cart=get(CART_KEY); if(!cart.length){ alert('ุงูุณูุฉ ูุงุฑุบุฉ'); return; }
      let orders=get(ORDERS_KEY);
      const order={ user:auth.email, items:cart, date:new Date().toLocaleString('ar-DZ'), name:document.getElementById('cust-name').value, phone:document.getElementById('cust-phone').value, addr:document.getElementById('cust-addr').value, status:'ููุฏ ุงููุนุงูุฌุฉ' };
      orders.push(order); set(ORDERS_KEY,orders); set(CART_KEY,[]);
      alert('ุชู ุชุฃููุฏ ุงูุทูุจ'); renderCart(); renderOrders(); location.hash='#profile';
    });

    document.getElementById('send-wa').addEventListener('click',()=>{
      let cart=get(CART_KEY); if(!cart.length){alert('ุงูุณูุฉ ูุงุฑุบุฉ');return;}
      let msg='ุทูุจ ุฌุฏูุฏ:%0A'; cart.forEach(c=>{msg+=`- ${c.name} (${c.price} ุฏุฌ)%0A`;});
      msg+=`ุงููุฌููุน: ${document.getElementById('cart-total').textContent}%0A`;
      msg+=`ุงูุงุณู: ${document.getElementById('cust-name').value}%0A`;
      msg+=`ุงููุงุชู: ${document.getElementById('cust-phone').value}%0A`;
      msg+=`ุงูุนููุงู: ${document.getElementById('cust-addr').value}`;
      const phone='213555000000'; window.open(`https://wa.me/${phone}?text=${msg}`,'_blank');
    });

    document.getElementById('send-mail').addEventListener('click',()=>{
      let cart=get(CART_KEY); if(!cart.length){alert('ุงูุณูุฉ ูุงุฑุบุฉ');return;}
      let body='ุทูุจ ุฌุฏูุฏ:%0A'; cart.forEach(c=>{body+=`- ${c.name} (${c.price} ุฏุฌ)%0A`;});
      body+=`ุงููุฌููุน: ${document.getElementById('cart-total').textContent}%0A`;
      body+=`ุงูุงุณู: ${document.getElementById('cust-name').value}%0A`;
      body+=`ุงููุงุชู: ${document.getElementById('cust-phone').value}%0A`;
      body+=`ุงูุนููุงู: ${document.getElementById('cust-addr').value}`;
      window.location.href=`mailto:orders@khaled.dz?subject=ุทูุจ ุฌุฏูุฏ&body=${body}`;
    });

    // ุงูุทูุจุงุช + ุชุบููุฑ ุงูุญุงูุฉ
    function renderOrders(){
      const auth=getAuth(); if(!auth) return;
      const orders=get(ORDERS_KEY).filter(o=>o.user===auth.email);
      const wrap=document.getElementById('my-orders'); wrap.innerHTML='';
      orders.forEach(o=>{ wrap.innerHTML+=`<div class='card'>ุทูุจ ุจุชุงุฑูุฎ ${o.date} - ${o.items.length} ููุชุฌุงุช<br>ุงูุญุงูุฉ: <b>${o.status||'โ'}</b><br>ุงูุงุณู: ${o.name||''}, ุงููุงุชู: ${o.phone||''}</div>` });
      if(auth.email===OWNER_EMAIL){
        const adm=document.getElementById('adm-orders'); adm.innerHTML='';
        get(ORDERS_KEY).forEach((o,idx)=>{
          adm.innerHTML+=`<div class='card'>
            <div><b>${o.user}</b> โ ${o.items.length} ููุชุฌุงุช โ ${o.date}</div>
            <div>ุงูุญุงูุฉ ุงูุญุงููุฉ: <b>${o.status||'โ'}</b></div>
            <div style='margin-top:.4rem;display:flex;gap:.4rem;flex-wrap:wrap'>
              <button class='btn btn-outline' onclick="setOrderStatus(${idx}, 'ููุฏ ุงููุนุงูุฌุฉ')">ููุฏ ุงููุนุงูุฌุฉ</button>
              <button class='btn btn-outline' onclick="setOrderStatus(${idx}, 'ูู ุงูุทุฑูู')">ูู ุงูุทุฑูู</button>
              <button class='btn btn-outline' onclick="setOrderStatus(${idx}, 'ุชู ุงูุชุณููู')">ุชู ุงูุชุณููู</button>
              <button class='btn btn-outline' onclick="setOrderStatus(${idx}, 'ููุบู')">ููุบู</button>
            </div>
          </div>`
        });
      }
    }
    function setOrderStatus(index,status){ const auth=getAuth(); if(!auth||auth.email!==OWNER_EMAIL) return; let orders=get(ORDERS_KEY); if(!orders[index]) return; orders[index].status=status; set(ORDERS_KEY,orders); renderOrders(); }

    // ุฑุงูุชุฑ ุจุณูุท
    const PAGES=['shop','cart','login','signup','profile','admin','privacy','terms','about','contact'];
    function route(){
      const target=(location.hash||'#shop').replace('#','');
      PAGES.forEach(id=>{
        const el=document.getElementById(id); if(!el) return;
        if(id===target) el.classList.remove('hidden');
        else { if((id==='login'||id==='signup') && !getAuth()) return; el.classList.add('hidden'); }
      });
      if(target==='cart') renderCart();
      if(target==='shop') augmentProductCards();
      if(target==='admin' && getAuth()?.email!==OWNER_EMAIL){ alert('ุงูุฏุฎูู ูููุงูู ููุท'); location.hash='#login'; }
    }
    window.addEventListener('hashchange', route);

    // ุตูุญุฉ ุงุชุตู ุจูุง: ูุงุชุณุงุจ ูุจุฑูุฏ (ููุญุฏูุซุฉ)
    const CONTACT_PHONE='213561408854'; // ุฑูู ูุงุชุณุงุจ ุฎุงูุฏ (0561408854)
    const CONTACT_EMAIL='khaledfoll12@gmail.com';

    function buildContactMessage(){
      const n=document.getElementById('c-name').value||'';
      const e=document.getElementById('c-email').value||'';
      const p=document.getElementById('c-product').value||'';
      const m=document.getElementById('c-msg').value||'';
      let t=`ุฑุณุงูุฉ ุชูุงุตู:%0Aุงูุงุณู: ${n}%0Aุงูุจุฑูุฏ: ${e}%0Aุงูููุชุฌ: ${p}%0A`;
      if(m) t+=`ุงูุฑุณุงูุฉ: ${m}%0A`;
      return t;
    }
    function contactAboutFromCard(card){
      const nameEl=card.querySelector('b');
      if(nameEl){ document.getElementById('c-product').value=nameEl.textContent.trim(); }
      location.hash='#contact';
    }
    function augmentProductCards(){
      const cards=document.querySelectorAll('#products .card');
      cards.forEach((card)=>{
        if(card.querySelector('.contact-btn')) return;
        const btn=document.createElement('button');
        btn.className='btn btn-outline contact-btn';
        btn.textContent='ุงุณุชูุณุงุฑ';
        btn.style.marginInlineStart='.4rem';
        btn.addEventListener('click',()=>contactAboutFromCard(card));
        const tools=card.querySelector('.tools');
        if(tools){ tools.appendChild(btn); }
        else { card.appendChild(btn); }
      });
    }

    const waBtn=document.getElementById('c-send-wa');
    if(waBtn){ waBtn.addEventListener('click',()=>{ window.open(`https://wa.me/${CONTACT_PHONE}?text=${buildContactMessage()}`,'_blank'); }); }
    const mailBtn=document.getElementById('c-send-mail');
    if(mailBtn){ mailBtn.addEventListener('click',()=>{
      const subject='ุชูุงุตู ุฌุฏูุฏ ูู ุงููุชุฌุฑ';
      const body=buildContactMessage();
      window.location.href=`mailto:${CONTACT_EMAIL}?subject=${encodeURIComponent(subject)}&body=${body}`;
    }); }

    // init
    if(!localStorage.getItem(CART_KEY)) set(CART_KEY,[]);
    if(!localStorage.getItem(ORDERS_KEY)) set(ORDERS_KEY,[]);
    seedProducts();
    renderAuth(); renderProducts(); augmentProductCards(); renderCart(); renderOrders(); route();
  </script></body>
</html>
